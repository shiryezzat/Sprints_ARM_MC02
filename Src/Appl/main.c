/**************************************************************************************************
 *	FILE DESCRIPTION
 *	---------------------------------------------------------------------------------------------*/
/**		\file
 *		\brief
 *
 *		\details
 *
 *
 *************************************************************************************************/
  
/**************************************************************************************************
 *	INCLUDES
 *************************************************************************************************/
#include "Mcu_Hw.h"
#include "Dio.h"
#include "SysCtrl.h"
#include "IntCtrl.h"
#include "Gpt.h"
#include "Port.h"
/**************************************************************************************************
 *	LOCAL MACROS CONSTANT\FUNCTION
 *************************************************************************************************/
 
/**************************************************************************************************
 *	LOCAL DATA
 *************************************************************************************************/
 
/**************************************************************************************************
 *	GLOBAL DATA
 *************************************************************************************************/
uint8 onTime = 3;
uint8 offTime = 1;
/**************************************************************************************************
 *	LOCAL FUNCTION PROTOTYPES
 *************************************************************************************************/
 void blink(void);
/**************************************************************************************************
 *	LOCAL FUNCTIONS
 *************************************************************************************************/
 
/**************************************************************************************************
 *	GLOBAL FUNCTIONS
 *************************************************************************************************/

/********************************************************************
 *	\Syntax				:
 *	\Description		:
 *
 *	\Sync\Async			:
 *	\Reentrancy			:
 *	\Parameters (in)	:
 *	\Parameters (out)	:
 *	\Return value		:
 *
 *******************************************************************/
int main(){
	
	IntCtrl_Init();
	SysCtrl_Init();
	Port_Init();
	Gpt_Init();
	Gpt_EnableNotification(Gpt_Timer1, blink);

	Gpt_StartTimer(Gpt_Timer1, offTime);
		
	for(;;){}
}

/********************************************************************
 *	\Syntax				:
 *	\Description		:
 *
 *	\Sync\Async			:
 *	\Reentrancy			:
 *	\Parameters (in)	:
 *	\Parameters (out)	:
 *	\Return value		:
 *
 *******************************************************************/
void blink(){
	
	if (Dio_ReadChannel(Dio_Channel_F2) == Dio_Low){
		Dio_FlipChannel(Dio_Channel_F2);
		Gpt_StartTimer(Gpt_Timer1, onTime);
	}
	else{
		Dio_FlipChannel(Dio_Channel_F2);
		Gpt_StartTimer(Gpt_Timer1, offTime);
	}
} 
 
/**************************************************************************************************
 *	END OF FILE:
 *************************************************************************************************/
